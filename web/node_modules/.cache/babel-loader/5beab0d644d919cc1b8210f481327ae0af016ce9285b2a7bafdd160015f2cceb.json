{"ast":null,"code":"import _objectSpread from\"C:/demo-project/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{TextField,Button,Typography,Box,Container}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdatePatient=()=>{const[phoneNo,setPhoneNo]=useState('');const[patientData,setPatientData]=useState({name:'',age:'',gender:'',email:'',address:''});const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const[isPatientFound,setIsPatientFound]=useState(false);const handleChange=e=>{const{name,value}=e.target;setPatientData(_objectSpread(_objectSpread({},patientData),{},{[name]:value}));};const searchPatient=async()=>{if(phoneNo.length!=10){setMessage('Enter a valid number ');setMessageType('error');return;}try{const response=await axios.get(\"http://localhost:3001/search-patient/\".concat(phoneNo));setPatientData(response.data.patient);setIsPatientFound(true);setMessage('');setMessageType('');}catch(err){setMessage('Patient not found');setMessageType('error');setIsPatientFound(false);setPatientData({name:'',age:'',gender:'',email:'',address:''});}};const updatePatient=async()=>{if(!isPatientFound){setMessage('Patient not found. Please search first.');setMessageType('error');return;}const{name,age,gender,email,address}=patientData;if(!name||!age||!gender||!email||!address){setMessage('All fields are required.');setMessageType('error');return;}try{const response=await axios.put('http://localhost:3001/update-patient',_objectSpread({phoneNo},patientData));setMessage(response.data.message);setMessageType('success');}catch(err){setMessage('Error updating patient.');setMessageType('error');}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(Box,{sx:{padding:3,borderRadius:1,boxShadow:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Update Patient\"}),/*#__PURE__*/_jsx(TextField,{label:\"Enter phone number\",variant:\"outlined\",fullWidth:true,value:phoneNo,onChange:e=>{const value=e.target.value;if(/^\\d*$/.test(value)){setPhoneNo(value);}},sx:{marginBottom:2}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,onClick:searchPatient,sx:{marginBottom:2},children:\"Search\"}),message&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:messageType==='success'?'green':'red',sx:{marginBottom:2},children:message}),isPatientFound&&/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",variant:\"outlined\",fullWidth:true,name:\"name\",value:patientData.name,onChange:handleChange,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{label:\"Age\",variant:\"outlined\",fullWidth:true,name:\"age\",value:patientData.age,onChange:handleChange,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{label:\"Gender\",variant:\"outlined\",fullWidth:true,name:\"gender\",value:patientData.gender,onChange:handleChange,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",variant:\"outlined\",fullWidth:true,name:\"email\",value:patientData.email,onChange:handleChange,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(TextField,{label:\"Address\",variant:\"outlined\",fullWidth:true,name:\"address\",value:patientData.address,onChange:handleChange,sx:{marginBottom:2}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",fullWidth:true,onClick:updatePatient,children:\"Update\"})]})]})});};export default UpdatePatient;","map":{"version":3,"names":["React","useState","axios","TextField","Button","Typography","Box","Container","jsx","_jsx","jsxs","_jsxs","UpdatePatient","phoneNo","setPhoneNo","patientData","setPatientData","name","age","gender","email","address","message","setMessage","messageType","setMessageType","isPatientFound","setIsPatientFound","handleChange","e","value","target","_objectSpread","searchPatient","length","response","get","concat","data","patient","err","updatePatient","put","maxWidth","children","sx","padding","borderRadius","boxShadow","variant","gutterBottom","label","fullWidth","onChange","test","marginBottom","color","onClick"],"sources":["C:/demo-project/web/src/Components/UpdatePatient.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { TextField, Button, Typography, Box, Container } from '@mui/material';\r\n\r\nconst UpdatePatient = () => {\r\n    const [phoneNo, setPhoneNo] = useState('');\r\n    const [patientData, setPatientData] = useState({\r\n        name: '',\r\n        age: '',\r\n        gender: '',\r\n        email: '',\r\n        address: '',\r\n    });\r\n    const [message, setMessage] = useState('');\r\n    const [messageType, setMessageType] = useState('');\r\n    const [isPatientFound, setIsPatientFound] = useState(false);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setPatientData({ ...patientData, [name]: value });\r\n    };\r\n\r\n\r\n    const searchPatient = async () => {\r\n      if(phoneNo.length!=10){\r\n        setMessage('Enter a valid number ');\r\n        setMessageType('error');\r\n        return ;\r\n      }\r\n        try {\r\n            const response = await axios.get(`http://localhost:3001/search-patient/${phoneNo}`);\r\n            setPatientData(response.data.patient);\r\n            setIsPatientFound(true);\r\n            setMessage('');\r\n            setMessageType('');\r\n        } catch (err) {\r\n            setMessage('Patient not found');\r\n            setMessageType('error');\r\n            setIsPatientFound(false);\r\n            setPatientData({\r\n                name: '',\r\n                age: '',\r\n                gender: '',\r\n                email: '',\r\n                address: '',\r\n            });\r\n        }\r\n    };\r\n\r\n    const updatePatient = async () => {\r\n       \r\n        if (!isPatientFound) {\r\n            setMessage('Patient not found. Please search first.');\r\n            setMessageType('error');\r\n            return;\r\n        }\r\n\r\n        const { name, age, gender, email, address } = patientData;\r\n        \r\n        if (!name || !age || !gender || !email || !address) {\r\n            setMessage('All fields are required.');\r\n            setMessageType('error');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.put('http://localhost:3001/update-patient', {\r\n                phoneNo,\r\n                ...patientData,\r\n            });\r\n            setMessage(response.data.message);\r\n            setMessageType('success');\r\n        } catch (err) {\r\n            setMessage('Error updating patient.');\r\n            setMessageType('error');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <Box sx={{ padding: 3, borderRadius: 1, boxShadow: 3 }}>\r\n                <Typography variant=\"h4\" gutterBottom>\r\n                    Update Patient\r\n                </Typography>\r\n\r\n                <TextField\r\n                    label=\"Enter phone number\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    value={phoneNo}\r\n                    onChange={(e) => { \r\n                      const value = e.target.value;\r\n                      if(/^\\d*$/.test(value)){\r\n                      setPhoneNo(value)}}}\r\n                    sx={{ marginBottom: 2 }}\r\n                />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    onClick={searchPatient}\r\n                    sx={{ marginBottom: 2 }}\r\n                >\r\n                    Search\r\n                </Button>\r\n\r\n                {message && (\r\n                    <Typography\r\n                        variant=\"body1\"\r\n                        color={messageType === 'success' ? 'green' : 'red'}\r\n                        sx={{ marginBottom: 2 }}\r\n                    >\r\n                        {message}\r\n                    </Typography>\r\n                )}\r\n\r\n                {isPatientFound && (\r\n                    <form>\r\n                        <TextField\r\n                            label=\"Name\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            name=\"name\"\r\n                            value={patientData.name}\r\n                            onChange={handleChange}\r\n                            sx={{ marginBottom: 2 }}\r\n                        />\r\n                        <TextField\r\n                            label=\"Age\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            name=\"age\"\r\n                            value={patientData.age}\r\n                            onChange={handleChange}\r\n                            sx={{ marginBottom: 2 }}\r\n                        />\r\n                        <TextField\r\n                            label=\"Gender\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            name=\"gender\"\r\n                            value={patientData.gender}\r\n                            onChange={handleChange}\r\n                            sx={{ marginBottom: 2 }}\r\n                        />\r\n                        <TextField\r\n                            label=\"Email\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            name=\"email\"\r\n                            value={patientData.email}\r\n                            onChange={handleChange}\r\n                            sx={{ marginBottom: 2 }}\r\n                        />\r\n                        <TextField\r\n                            label=\"Address\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            name=\"address\"\r\n                            value={patientData.address}\r\n                            onChange={handleChange}\r\n                            sx={{ marginBottom: 2 }}\r\n                        />\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"success\"\r\n                            fullWidth\r\n                            onClick={updatePatient}\r\n                        >\r\n                            Update\r\n                        </Button>\r\n                    </form>\r\n                )}\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default UpdatePatient;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}